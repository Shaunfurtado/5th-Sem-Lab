<!DOCTYPE html>
<html>

<head>
    <title>CN Lab Programs.md</title>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    
<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

html,footer,header{
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Custom MD PDF CSS
 */
html,footer,header{
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";

 }
body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>
<link rel="stylesheet" href="file:///r%3A/2.Travail/1.Enseignement/Cours/_1.Outils/2.Developpement/1.SCSS/main.css" type="text/css"><link rel="stylesheet" href="file:///d%3A/rdaros/Cours/_1.Outils/2.Developpement/1.SCSS/main.css" type="text/css">
</head>

<body>
    <h1 id="p1tcl">p1.tcl</h1>
<h2 id="a1-implement-three-nodes-point--to--point-networks-with-duplex-links-between-them-using-ns2-set-the-queue-size-vary-the-bandwidth-and-find-the-number-of-packets-dropped">A1. Implement three nodes point--to--point networks with duplex links between them using NS2. Set the queue size, vary the bandwidth, and find the number of packets dropped.</h2>
<pre class="hljs"><code><div><span class="hljs-keyword">set</span> ns [new Simulator]
<span class="hljs-keyword">set</span> nf [<span class="hljs-keyword">open</span> p1.nam w]
$ns namtrace-all $nf
<span class="hljs-keyword">set</span> tf [<span class="hljs-keyword">open</span> p1.tr w]
$ns <span class="hljs-keyword">trace</span>-all $tf

<span class="hljs-keyword">proc</span><span class="hljs-title"> finish</span> { } {
<span class="hljs-keyword">global</span> ns nf tf
$ns <span class="hljs-keyword">flush</span>-<span class="hljs-keyword">trace</span>
<span class="hljs-keyword">close</span> $nf
<span class="hljs-keyword">close</span> $tf
<span class="hljs-keyword">exec</span> nam p1.nam &amp;
<span class="hljs-keyword">exit</span> <span class="hljs-number">0</span>
}

<span class="hljs-keyword">set</span> n0 [$ns node]
<span class="hljs-keyword">set</span> n2 [$ns node]
<span class="hljs-keyword">set</span> n3 [$ns node]

$ns duplex-link $n0 $n2 <span class="hljs-number">4</span>Mb <span class="hljs-number">2</span>ms DropTail
$ns duplex-link $n2 $n3 <span class="hljs-number">100</span>kb <span class="hljs-number">10</span>ms DropTail
$ns queue-limit $n0 $n2 <span class="hljs-number">2</span>

<span class="hljs-keyword">set</span> udp0 [new Agent/UDP]
$ns attach-agent $n0 $udp0

<span class="hljs-keyword">set</span> cbr0 [new Application/Traffic/CBR]
$cbr0 <span class="hljs-keyword">set</span> packageSize_ <span class="hljs-number">1000</span>
$cbr0 <span class="hljs-keyword">set</span> interval_ <span class="hljs-number">0.005</span>
$cbr0 attach-agent $udp0

<span class="hljs-keyword">set</span> null0 [new Agent/Null]
$ns attach-agent $n3 $null0

$ns connect $udp0 $null0

$ns at <span class="hljs-number">0.1</span> <span class="hljs-string">"$cbr0 start"</span>
$ns at <span class="hljs-number">1.0</span> <span class="hljs-string">"finish"</span>

$ns run
</div></code></pre>
<h1 id="p1awk">p1.awk</h1>
<pre class="hljs"><code><div><span class="hljs-keyword">BEGIN</span>{c=<span class="hljs-number">0</span>;

       r=<span class="hljs-number">0</span>;
}

{
        <span class="hljs-keyword">if</span>(<span class="hljs-variable">$1</span>==<span class="hljs-string">"d"</span>)
        {
               c++;
         }
         <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-variable">$1</span>==<span class="hljs-string">"r"</span>)
         {
		r++;
	}
}
<span class="hljs-keyword">END</span>{ printf(<span class="hljs-string">"The number of packets dropped=%d\n"</span>,c);
   printf(<span class="hljs-string">"The number of packets recieved =%d\n"</span>,r); }
</div></code></pre>
<h1 id="p2tcl">p2.tcl</h1>
<h2 id="implement-transmission-of-ping-messagestraceroute-over-a-network-topology-consisting-of-6-nodes-using-ns2-and-find-the-number-of-packets-dropped-due-to-congestion">Implement transmission of ping messages/traceroute over a network topology consisting of 6 nodes using NS2 and find the number of packets dropped due to congestion.</h2>
<pre class="hljs"><code><div><span class="hljs-keyword">set</span> ns [new Simulator]
<span class="hljs-keyword">set</span> nf [<span class="hljs-keyword">open</span> lab2.nam w]
$ns namtrace-all $nf
<span class="hljs-keyword">set</span> tf [<span class="hljs-keyword">open</span> lab2.tr w]
$ns <span class="hljs-keyword">trace</span>-all $tf

<span class="hljs-keyword">set</span> n0 [$ns node]
<span class="hljs-keyword">set</span> n1 [$ns node]
<span class="hljs-keyword">set</span> n2 [$ns node]
<span class="hljs-keyword">set</span> n3 [$ns node]
<span class="hljs-keyword">set</span> n4 [$ns node]
<span class="hljs-keyword">set</span> n5 [$ns node]

$ns duplex-link $n0 $n4 <span class="hljs-number">0.1</span>Mb <span class="hljs-number">1</span>ms DropTail
$ns duplex-link $n1 $n4 <span class="hljs-number">0.1</span>Mb <span class="hljs-number">1</span>ms DropTail
$ns duplex-link $n2 $n4 <span class="hljs-number">0.1</span>Mb <span class="hljs-number">1</span>ms DropTail
$ns duplex-link $n3 $n4 <span class="hljs-number">0.1</span>Mb <span class="hljs-number">1</span>ms DropTail
$ns duplex-link $n4 $n5 <span class="hljs-number">0.1</span>Mb <span class="hljs-number">1</span>ms DropTail

<span class="hljs-keyword">set</span> p1 [new Agent/Ping]
$ns attach-agent $n0 $p1
$p1 <span class="hljs-keyword">set</span> packetSize_ <span class="hljs-number">50000</span>
$p1 <span class="hljs-keyword">set</span> interval_ <span class="hljs-number">0.0001</span>

<span class="hljs-keyword">set</span> p2 [new Agent/Ping]
$ns attach-agent $n1 $p2

<span class="hljs-keyword">set</span> p3 [new Agent/Ping]
$ns attach-agent $n2 $p3
$p3 <span class="hljs-keyword">set</span> packetSize_ <span class="hljs-number">30000</span>
$p3 <span class="hljs-keyword">set</span> interval_ <span class="hljs-number">0.00001</span>

<span class="hljs-keyword">set</span> p4 [new Agent/Ping]
$ns attach-agent $n3 $p4

<span class="hljs-keyword">set</span> p5 [new Agent/Ping]
$ns attach-agent $n5 $p5

$ns queue-limit $n0 $n4 <span class="hljs-number">5</span>
$ns queue-limit $n2 $n4 <span class="hljs-number">3</span>
$ns queue-limit $n4 $n5 <span class="hljs-number">2</span>

Agent/Ping instproc recv {from rtt} {
$self instvar node_
<span class="hljs-keyword">puts</span> <span class="hljs-string">"node [$node_ id] recieved answer from $from with round trip time $rtt msec"</span>
}

$ns connect $p2 $p4
$ns connect $p3 $p5

<span class="hljs-keyword">proc</span><span class="hljs-title"> finish</span> {} {
<span class="hljs-keyword">global</span> ns nf tf
$ns <span class="hljs-keyword">flush</span>-<span class="hljs-keyword">trace</span>
<span class="hljs-keyword">close</span> $nf
<span class="hljs-keyword">close</span> $tf
<span class="hljs-keyword">exec</span> nam lab2.nam &amp;
<span class="hljs-keyword">exit</span> <span class="hljs-number">0</span>
}

$ns at <span class="hljs-number">0.1</span> <span class="hljs-string">"$p2 send"</span>
$ns at <span class="hljs-number">0.2</span> <span class="hljs-string">"$p2 send"</span>
$ns at <span class="hljs-number">0.3</span> <span class="hljs-string">"$p2 send"</span>
$ns at <span class="hljs-number">0.4</span> <span class="hljs-string">"$p2 send"</span>
$ns at <span class="hljs-number">0.5</span> <span class="hljs-string">"$p2 send"</span>
$ns at <span class="hljs-number">0.6</span> <span class="hljs-string">"$p2 send"</span>
$ns at <span class="hljs-number">0.7</span> <span class="hljs-string">"$p2 send"</span>
$ns at <span class="hljs-number">0.8</span> <span class="hljs-string">"$p2 send"</span>
$ns at <span class="hljs-number">0.9</span> <span class="hljs-string">"$p2 send"</span>
$ns at <span class="hljs-number">1.0</span> <span class="hljs-string">"$p2 send"</span>
$ns at <span class="hljs-number">1.1</span> <span class="hljs-string">"$p2 send"</span>
$ns at <span class="hljs-number">1.2</span> <span class="hljs-string">"$p2 send"</span>
$ns at <span class="hljs-number">1.3</span> <span class="hljs-string">"$p2 send"</span>
$ns at <span class="hljs-number">1.4</span> <span class="hljs-string">"$p2 send"</span>
$ns at <span class="hljs-number">1.5</span> <span class="hljs-string">"$p2 send"</span>
$ns at <span class="hljs-number">1.6</span> <span class="hljs-string">"$p2 send"</span>
$ns at <span class="hljs-number">1.7</span> <span class="hljs-string">"$p2 send"</span>
$ns at <span class="hljs-number">1.8</span> <span class="hljs-string">"$p2 send"</span>
$ns at <span class="hljs-number">1.9</span> <span class="hljs-string">"$p2 send"</span>
$ns at <span class="hljs-number">2.0</span> <span class="hljs-string">"$p2 send"</span>


$ns at <span class="hljs-number">0.1</span> <span class="hljs-string">"$p3 send"</span>
$ns at <span class="hljs-number">0.2</span> <span class="hljs-string">"$p3 send"</span>
$ns at <span class="hljs-number">0.3</span> <span class="hljs-string">"$p3 send"</span>
$ns at <span class="hljs-number">0.4</span> <span class="hljs-string">"$p3 send"</span>
$ns at <span class="hljs-number">0.5</span> <span class="hljs-string">"$p3 send"</span>
$ns at <span class="hljs-number">0.6</span> <span class="hljs-string">"$p3 send"</span>
$ns at <span class="hljs-number">0.7</span> <span class="hljs-string">"$p3 send"</span>
$ns at <span class="hljs-number">0.8</span> <span class="hljs-string">"$p3 send"</span>
$ns at <span class="hljs-number">0.9</span> <span class="hljs-string">"$p3 send"</span>
$ns at <span class="hljs-number">1.0</span> <span class="hljs-string">"$p3 send"</span>
$ns at <span class="hljs-number">1.1</span> <span class="hljs-string">"$p3 send"</span>
$ns at <span class="hljs-number">1.2</span> <span class="hljs-string">"$p3 send"</span>
$ns at <span class="hljs-number">1.3</span> <span class="hljs-string">"$p3 send"</span>
$ns at <span class="hljs-number">1.4</span> <span class="hljs-string">"$p3 send"</span>
$ns at <span class="hljs-number">1.5</span> <span class="hljs-string">"$p3 send"</span>
$ns at <span class="hljs-number">1.6</span> <span class="hljs-string">"$p3 send"</span>
$ns at <span class="hljs-number">1.7</span> <span class="hljs-string">"$p3 send"</span>
$ns at <span class="hljs-number">1.8</span> <span class="hljs-string">"$p3 send"</span>
$ns at <span class="hljs-number">1.9</span> <span class="hljs-string">"$p3 send"</span>
$ns at <span class="hljs-number">2.0</span> <span class="hljs-string">"$p3 send"</span>

$ns at <span class="hljs-number">3.0</span> <span class="hljs-string">"finish"</span>

$ns run
</div></code></pre>
<h1 id="p2awk">p2.awk</h1>
<pre class="hljs"><code><div><span class="hljs-keyword">BEGIN</span>{
	count=<span class="hljs-number">0</span>;
}
{
	<span class="hljs-keyword">if</span>(<span class="hljs-variable">$1</span>==<span class="hljs-string">"d"</span>)
	{
		count++;
	}
}
<span class="hljs-keyword">END</span>{ printf(<span class="hljs-string">"The number of packets dropped =%d\n"</span>,count);
}
</div></code></pre>
<h1 id="p4tcl">p4.tcl</h1>
<h2 id="implement-simple-ess-and-with-transmitting-nodes-in-wire-less-lan-by-simulation-using-ns2-and-determine-the-performance-with-respect-to-the-transmission-of-packets">Implement simple ESS and with transmitting nodes in wire-less LAN by simulation using NS2 and determine the performance with respect to the transmission of packets.</h2>
<pre class="hljs"><code><div><span class="hljs-keyword">set</span> ns [new Simulator]

<span class="hljs-keyword">set</span> tf [<span class="hljs-keyword">open</span> Program4.tr w]
$ns <span class="hljs-keyword">trace</span>-all $tf

<span class="hljs-keyword">set</span> topo [new Topography]
$topo load_flatgrid <span class="hljs-number">1000</span> <span class="hljs-number">1000</span>

<span class="hljs-keyword">set</span> nf [<span class="hljs-keyword">open</span> Program4.nam w]
$ns namtrace-all-wireless $nf <span class="hljs-number">1000</span> <span class="hljs-number">1000</span>

$ns node-config -adhocRouting DSDV \
	-llType LL \
	-macType Mac/<span class="hljs-number">802</span>_11 \
	-ifqType Queue/DropTail \
	-ifqLen <span class="hljs-number">50</span> \
	-phyType Phy/WirelessPhy \
	-channelType Channel/WirelessChannel \
	-propType Propagation/TwoRayGround \
	-antType Antenna/OmniAntenna \
	-topoInstance $topo \
	-agentTrace ON \
	-routerTrace ON 

create-god <span class="hljs-number">3</span>

<span class="hljs-keyword">set</span> n0 [$ns node]
<span class="hljs-keyword">set</span> n1 [$ns node]
<span class="hljs-keyword">set</span> n2 [$ns node]

$n0 label <span class="hljs-string">"tcp0"</span>
$n1 label <span class="hljs-string">"sink1/tcp1"</span>
$n2 label <span class="hljs-string">"sink2"</span>

$n0 <span class="hljs-keyword">set</span> X_ <span class="hljs-number">50</span>
$n0 <span class="hljs-keyword">set</span> Y_ <span class="hljs-number">50</span>
$n0 <span class="hljs-keyword">set</span> Z_ <span class="hljs-number">0</span>

$n1 <span class="hljs-keyword">set</span> X_ <span class="hljs-number">100</span>
$n1 <span class="hljs-keyword">set</span> Y_ <span class="hljs-number">100</span>
$n1 <span class="hljs-keyword">set</span> Z_ <span class="hljs-number">0</span>

$n2 <span class="hljs-keyword">set</span> X_ <span class="hljs-number">600</span>
$n2 <span class="hljs-keyword">set</span> Y_ <span class="hljs-number">600</span>
$n2 <span class="hljs-keyword">set</span> Z_ <span class="hljs-number">0</span>

$ns at <span class="hljs-number">0.1</span> <span class="hljs-string">"$n0 setdest 50 50 15"</span>
$ns at <span class="hljs-number">0.1</span> <span class="hljs-string">"$n1 setdest 100 100 25"</span>
$ns at <span class="hljs-number">0.1</span> <span class="hljs-string">"$n2 setdest 600 600 25"</span>

<span class="hljs-keyword">set</span> tcp0 [new Agent/TCP]
$ns attach-agent $n0 $tcp0

<span class="hljs-keyword">set</span> ftp0 [new Application/FTP]
$ftp0 attach-agent $tcp0

<span class="hljs-keyword">set</span> sink1 [new Agent/TCPSink]
$ns attach-agent $n1 $sink1

$ns connect $tcp0 $sink1

<span class="hljs-keyword">set</span> tcp1 [new Agent/TCP]
$ns attach-agent $n1 $tcp1

<span class="hljs-keyword">set</span> ftp1 [new Application/FTP]
$ftp1 attach-agent $tcp1

<span class="hljs-keyword">set</span> sink2 [new Agent/TCPSink]
$ns attach-agent $n2 $sink2

$ns connect $tcp1 $sink2

$ns at <span class="hljs-number">5</span> <span class="hljs-string">"$ftp0 start"</span>
$ns at <span class="hljs-number">5</span> <span class="hljs-string">"$ftp1 start"</span>

$ns at <span class="hljs-number">100</span> <span class="hljs-string">"$n1 setdest 550 550 15"</span>
$ns at <span class="hljs-number">190</span> <span class="hljs-string">"$n1 setdest 70 70 15"</span>

<span class="hljs-keyword">proc</span><span class="hljs-title"> finish</span> { } {
<span class="hljs-keyword">global</span> ns nf tf
$ns <span class="hljs-keyword">flush</span>-<span class="hljs-keyword">trace</span>
<span class="hljs-keyword">exec</span> nam Program4.nam &amp;
<span class="hljs-keyword">close</span> $tf
<span class="hljs-keyword">exit</span> <span class="hljs-number">0</span>
}

$ns at <span class="hljs-number">250</span> <span class="hljs-string">"finish"</span>
$ns  run
</div></code></pre>
<h1 id="p4awk">p4.awk</h1>
<pre class="hljs"><code><div><span class="hljs-keyword">BEGIN</span>{
pack1=<span class="hljs-number">0</span>
pack2=<span class="hljs-number">0</span>
time1=<span class="hljs-number">0</span>
time2=<span class="hljs-number">0</span>
}{
<span class="hljs-keyword">if</span>(<span class="hljs-variable">$1</span>==<span class="hljs-string">"r"</span> &amp;&amp; <span class="hljs-variable">$3</span>==<span class="hljs-string">"_1_"</span> &amp;&amp; <span class="hljs-variable">$4</span>==<span class="hljs-string">"AGT"</span>)
{
pack1=pack1+<span class="hljs-variable">$8</span>
time1=<span class="hljs-variable">$2</span> }
<span class="hljs-keyword">if</span>(<span class="hljs-variable">$1</span>==<span class="hljs-string">"r"</span> &amp;&amp; <span class="hljs-variable">$3</span>==<span class="hljs-string">"_2_"</span> &amp;&amp; <span class="hljs-variable">$4</span>==<span class="hljs-string">"AGT"</span>)
{
pack2=pack2+<span class="hljs-variable">$8</span>
time2=<span class="hljs-variable">$2</span> }
}
<span class="hljs-keyword">END</span>{
printf(<span class="hljs-string">"The Throught from n1 to n2: %f Mbps\n"</span>,((pack1*<span class="hljs-number">8</span>)<span class="hljs-regexp">/(time1*1000000)));
printf("The Throught from n1 to n2: %f Mbps\n",((pack2*8)/</span>(time2*<span class="hljs-number">1000000</span>)));
}
</div></code></pre>
<h1 id="p5java">p5.java</h1>
<h2 id="write-a-program-for-error-detecting-code-using-crc-ccitt-16--bits">Write a program for error detecting code using CRC-CCITT (16- bits).</h2>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> java.util.Scanner;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CRCb</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{
        Scanner sc = <span class="hljs-keyword">new</span> Scanner(System.in);
        System.out.println(<span class="hljs-string">"Enter message bits:"</span>);
        String message = sc.nextLine();
        System.out.println(<span class="hljs-string">"Enter generator (16 bits):"</span>);
        String generator = sc.nextLine();

        <span class="hljs-comment">// Convert message and generator strings to arrays of integers</span>
        <span class="hljs-keyword">int</span>[] data = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[message.length() + generator.length() - <span class="hljs-number">1</span>];
        <span class="hljs-keyword">int</span>[] divisor = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[generator.length()];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; message.length(); i++)
            data[i] = Integer.parseInt(message.charAt(i) + <span class="hljs-string">""</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; generator.length(); i++)
            divisor[i] = Integer.parseInt(generator.charAt(i) + <span class="hljs-string">""</span>);

        <span class="hljs-comment">// Perform CRC division</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; message.length(); i++) {
            <span class="hljs-keyword">if</span> (data[i] == <span class="hljs-number">1</span>) {
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; divisor.length; j++)
                    data[i + j] ^= divisor[j];
            }
        }

        <span class="hljs-comment">// Generate checksum code</span>
        System.out.println(<span class="hljs-string">"The checksum code is:"</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; data.length; i++)
            System.out.print(data[i]);
        System.out.println();

        <span class="hljs-comment">// Check validity of data stream</span>
        System.out.println(<span class="hljs-string">"Enter received data bits:"</span>);
        String receivedData = sc.nextLine();
        data = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[receivedData.length() + generator.length() - <span class="hljs-number">1</span>];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; receivedData.length(); i++)
            data[i] = Integer.parseInt(receivedData.charAt(i) + <span class="hljs-string">""</span>);

        <span class="hljs-comment">// Perform CRC division on received data</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; receivedData.length(); i++) {
            <span class="hljs-keyword">if</span> (data[i] == <span class="hljs-number">1</span>) {
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; divisor.length; j++)
                    data[i + j] ^= divisor[j];
            }
        }
        <span class="hljs-keyword">boolean</span> valid = <span class="hljs-keyword">true</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; data.length; i++) {
            <span class="hljs-keyword">if</span> (data[i] == <span class="hljs-number">1</span>) {
                valid = <span class="hljs-keyword">false</span>;
                <span class="hljs-keyword">break</span>;
            }
        }
        <span class="hljs-keyword">if</span> (valid)
            System.out.println(<span class="hljs-string">"Data stream is valid."</span>);
        <span class="hljs-keyword">else</span>
            System.out.println(<span class="hljs-string">"Data stream is invalid. CRC error has occurred."</span>);
    }
}
</div></code></pre>
<h1 id="p6java">p6.java</h1>
<h2 id="write-a-program-to-find-the-shortest-path-between-vertices-using-the-bellman-ford-algorithm">Write a program to find the shortest path between vertices using the bellman-ford algorithm</h2>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> java.util.Scanner;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BellmanFord</span>
</span>{
	<span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> D[];
	<span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> num_ver;
	<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> MAX_VALUE = <span class="hljs-number">999</span>;
	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">BellmanFord</span><span class="hljs-params">(<span class="hljs-keyword">int</span> num_ver)</span>
	</span>{
		<span class="hljs-keyword">this</span>.num_ver = num_ver;
		D = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[num_ver + <span class="hljs-number">1</span>];
	}

	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">BellmanFordEvaluation</span><span class="hljs-params">(<span class="hljs-keyword">int</span> source, <span class="hljs-keyword">int</span> A[][])</span>
	</span>{
		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> node=<span class="hljs-number">1</span>;node &lt;= num_ver; node++)
		{
			D[node] = MAX_VALUE;
		}
		D[source] = <span class="hljs-number">0</span>;
		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> node=<span class="hljs-number">1</span>; node&lt;=num_ver - <span class="hljs-number">1</span>; node++)
		{
			<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> sn=<span class="hljs-number">1</span>;sn&lt;=num_ver;sn++)
			{
				<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> dn=<span class="hljs-number">1</span>; dn &lt;= num_ver;dn++)
                        	{
                                	<span class="hljs-keyword">if</span>(A[sn][dn] !=MAX_VALUE)
                                	{
                                        	<span class="hljs-keyword">if</span> (D[dn] &gt; D[sn] + A[sn][dn])
                                                	D[dn] = D[sn] + A[sn][dn];
                                	}	
                        	}
	
			}
		}
		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> sn=<span class="hljs-number">1</span>;sn&lt;=num_ver; sn++)
		{
			<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> dn=<span class="hljs-number">1</span>;dn&lt;=num_ver;dn++)
                 	{
				<span class="hljs-keyword">if</span> (A[sn][dn] != MAX_VALUE)
				{
					<span class="hljs-keyword">if</span> (D[dn] &gt; D[sn] + A[sn][dn])
					{
						System.out.println(<span class="hljs-string">"The graph contains negative edge cycle"</span>);
						<span class="hljs-keyword">return</span>;
					}
				}
			}
		}
		
		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> vertex = <span class="hljs-number">1</span>; vertex&lt;=num_ver;vertex++)
		{
			System.out.println(<span class="hljs-string">"distance of source"</span> + source + <span class="hljs-string">" to "</span> + vertex + <span class="hljs-string">" is "</span> + D[vertex]);
		}
	}
	
	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span>
	</span>{
		<span class="hljs-keyword">int</span> num_ver=<span class="hljs-number">0</span>;
		<span class="hljs-keyword">int</span> source;
		Scanner scanner = <span class="hljs-keyword">new</span> Scanner(System.in);
		System.out.println(<span class="hljs-string">"Enter the number of vertices"</span>);
		num_ver=scanner.nextInt();
		<span class="hljs-keyword">int</span> A[][]=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[num_ver + <span class="hljs-number">1</span> ][num_ver + <span class="hljs-number">1</span>];
		System.out.println(<span class="hljs-string">"Enter the adjacency matrix"</span>);
		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> sn=<span class="hljs-number">1</span>;sn&lt;=num_ver;sn++)
		{
			<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> dn=<span class="hljs-number">1</span>;dn&lt;=num_ver;dn++)
			{
				A[sn][dn] = scanner.nextInt();
				<span class="hljs-keyword">if</span>(sn == dn)
				{
					A[sn][dn] = <span class="hljs-number">0</span>;
					<span class="hljs-keyword">continue</span>;
				}
				<span class="hljs-keyword">if</span> (A[sn][dn] == <span class="hljs-number">0</span>)
				{
					A[sn][dn] = MAX_VALUE;
				}
			}
		}
		System.out.println(<span class="hljs-string">"Enter the source vertex"</span>);
		source = scanner.nextInt();
		BellmanFord b= <span class="hljs-keyword">new</span> BellmanFord(num_ver);
		b.BellmanFordEvaluation(source,A);
		scanner.close();
	}
}
</div></code></pre>
<h1 id="p7java">p7.java</h1>
<h2 id="write-a-program-for-congestion-control-using-a-leaky-bucket-algorithm">Write a program for congestion control using a leaky bucket algorithm.</h2>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> java.util.Scanner;
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">lab7</span>
</span>{
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span>
  </span>{
    <span class="hljs-keyword">int</span> i;
    <span class="hljs-keyword">int</span> a[]=<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[<span class="hljs-number">20</span>];
    <span class="hljs-keyword">int</span> buck_rem=<span class="hljs-number">0</span>,buck_cap=<span class="hljs-number">4</span>,rate=<span class="hljs-number">3</span>,sent,recv;
    Scanner in = <span class="hljs-keyword">new</span> Scanner(System.in);
    System.out.println(<span class="hljs-string">"Enter the number of packets "</span>);
    <span class="hljs-keyword">int</span> n = in.nextInt();
    System.out.println(<span class="hljs-string">"Enter the packets "</span>);
    <span class="hljs-keyword">for</span>(i=<span class="hljs-number">1</span>;i&lt;=n;i++) {
      a[i]=in.nextInt();
    }
    System.out.println(<span class="hljs-string">"Clock \t Packet size \t Accept \t Sent \t Remaining"</span>);
    <span class="hljs-keyword">for</span>(i=<span class="hljs-number">1</span>;i&lt;=n;i++) {
      <span class="hljs-keyword">if</span>(a[i]!=<span class="hljs-number">0</span>) {
        <span class="hljs-keyword">if</span>(buck_rem + a[i] &gt; buck_cap) {
          recv = -<span class="hljs-number">1</span>;
        }
        <span class="hljs-keyword">else</span> {
          recv=a[i];
          buck_rem=+a[i];
        }
      }
      <span class="hljs-keyword">else</span> {
        recv=<span class="hljs-number">0</span>;
      }
      <span class="hljs-keyword">if</span>(buck_rem!=<span class="hljs-number">0</span>)
      {
        <span class="hljs-keyword">if</span>(buck_rem&lt;rate)
        {
          sent=buck_rem;
          buck_rem=<span class="hljs-number">0</span>;
        }
        <span class="hljs-keyword">else</span>{
          sent=rate;
          buck_rem=buck_rem-rate;
        }}
        <span class="hljs-keyword">else</span>
          sent=<span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span>(recv==-<span class="hljs-number">1</span>)
          System.out.println(+i+<span class="hljs-string">"\t\t"</span>+a[i]+<span class="hljs-string">"\t\tdropped\t"</span>+sent+<span class="hljs-string">"\t"</span>+buck_rem);
        <span class="hljs-keyword">else</span>
          System.out.println(+i+<span class="hljs-string">"\t\t"</span>+a[i]+<span class="hljs-string">"\t\t"</span>+recv+<span class="hljs-string">"\t"</span>+sent+<span class="hljs-string">"\t"</span>+buck_rem);
        }
      }
    }
</div></code></pre>
<h1 id="p8a-fileclientjava">p8a FileClient.java</h1>
<h2 id="using-tcpip-sockets-write-a-client-server-program-to-make-client-sending-the-file-name-and-the-server-to-send-back-the-contents-of-the-requested-file-if-present">Using TCP/IP sockets, write a client-server program to make client sending the file name and the server to send back the contents of the requested file if present.</h2>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> java.io.*;
<span class="hljs-keyword">import</span> java.net.*;
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FileClient</span>
</span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span>
    </span>{
        <span class="hljs-keyword">new</span> FileClient();
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">FileClient</span><span class="hljs-params">()</span></span>{
        BufferedReader bufReader=<span class="hljs-keyword">new</span> BufferedReader(<span class="hljs-keyword">new</span> InputStreamReader(System.in));
        <span class="hljs-keyword">try</span>{
            Socket clientsocket=<span class="hljs-keyword">new</span> Socket(<span class="hljs-string">"localhost"</span>,<span class="hljs-number">8000</span>);
            System.out.println(<span class="hljs-string">"Connecting to server..."</span>);
            DataInputStream input=<span class="hljs-keyword">new</span> DataInputStream(clientsocket.getInputStream());
            DataOutputStream output = <span class="hljs-keyword">new</span> DataOutputStream(clientsocket.getOutputStream());
            System.out.println(<span class="hljs-string">"Enter file name:"</span>);
            String Name = bufReader.readLine();
            output.writeUTF(Name);
            String EcFile = input.readUTF();
            System.out.println(EcFile);
        }
        <span class="hljs-keyword">catch</span>(Exception ex)
        {
            ex.printStackTrace();
        }
    }
}
</div></code></pre>
<h1 id="p8b-fileserverjava">p8b FileServer.java</h1>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> java.io.*;
<span class="hljs-keyword">import</span> java.net.*;
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FileServer</span>
</span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span>
    </span>{
        <span class="hljs-keyword">new</span> FileServer();
    }   
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">FileServer</span><span class="hljs-params">()</span>
    </span>{
        DataOutputStream output;
        DataInputStream input;
        Socket socket;
        ServerSocket serversocket;
        BufferedReader br;
        String everything;
        <span class="hljs-keyword">try</span>
        {
            serversocket=<span class="hljs-keyword">new</span> ServerSocket(<span class="hljs-number">8000</span>);
            System.out.println(<span class="hljs-string">"Server Started......."</span>);
            socket=serversocket.accept();
            input=<span class="hljs-keyword">new</span> DataInputStream(socket.getInputStream());
            output=<span class="hljs-keyword">new</span> DataOutputStream(socket.getOutputStream());
            <span class="hljs-keyword">while</span>(<span class="hljs-keyword">true</span>)
            {
                String str =input.readUTF();
                System.out.println(str);
                <span class="hljs-keyword">try</span>{
                    URL url = getClass().getResource(str);
                    InputStream istream= url.openStream();

                    br=<span class="hljs-keyword">new</span> BufferedReader(<span class="hljs-keyword">new</span> InputStreamReader(istream));
                    StringBuilder sb=<span class="hljs-keyword">new</span> StringBuilder();
                    String line = br.readLine();
                    <span class="hljs-keyword">while</span>(line!=<span class="hljs-keyword">null</span>)
                    {
                        sb.append(line);
                        line=br.readLine();
                    }
                    everything=sb.toString();
                }
                <span class="hljs-keyword">catch</span>(Exception ex)
                {
                    everything = <span class="hljs-string">"File Not Found"</span>;
                }
                output.writeUTF(everything);
            }
        }
        <span class="hljs-keyword">catch</span>(Exception ex)
        {
            everything=<span class="hljs-string">"Error"</span>;
        }
        <span class="hljs-keyword">finally</span>{
        }
    }
}
</div></code></pre>
<h1 id="part-c1tcl">part c1.tcl</h1>
<h2 id="implement-an-ethernet-lan-using-n-nodes-and-set-multiple-traffic-nodes-using-ns2-and-plot-conges-the-window-for-different-sourcedestination">Implement an Ethernet LAN using n nodes and set multiple traffic nodes using NS2 and plot conges the window for different source/destination.</h2>
<pre class="hljs"><code><div><span class="hljs-keyword">set</span> ns [new Simulator]
<span class="hljs-keyword">set</span> tf [<span class="hljs-keyword">open</span> lab3.tr w]
$ns <span class="hljs-keyword">trace</span>-all $tf

<span class="hljs-keyword">set</span> nf [<span class="hljs-keyword">open</span> lab3.nam w]
$ns namtrace-all $nf

<span class="hljs-keyword">set</span> n0 [$ns node]
$n0 color <span class="hljs-string">"magenta"</span>
$n0 label <span class="hljs-string">"src1"</span>

<span class="hljs-keyword">set</span> n1 [$ns node]
$n1 color <span class="hljs-string">"magenta"</span>
$n1 label <span class="hljs-string">"src2"</span>

<span class="hljs-keyword">set</span> n2 [$ns node]

<span class="hljs-keyword">set</span> n3 [$ns node]
$n3 color <span class="hljs-string">"blue"</span>
$n3 label <span class="hljs-string">"dest2"</span>

<span class="hljs-keyword">set</span> n4 [$ns node]

<span class="hljs-keyword">set</span> n5 [$ns node]
$n5 color <span class="hljs-string">"blue"</span>
$n5 label <span class="hljs-string">"dest1"</span>

$ns make-lan <span class="hljs-string">"$n0 $n1 $n2 $n4"</span> <span class="hljs-number">100</span>Mb <span class="hljs-number">10</span>ms LL Queue/DropTail Mac/<span class="hljs-number">802</span>_3
$ns duplex-link $n2 $n3 <span class="hljs-number">1</span>Mb <span class="hljs-number">1</span>ms DropTail
$ns queue-limit $n2 $n3 <span class="hljs-number">5</span>
$ns duplex-link $n4 $n5 <span class="hljs-number">1</span>Mb <span class="hljs-number">1</span>ms DropTail
$ns queue-limit $n4 $n5 <span class="hljs-number">3</span>

<span class="hljs-keyword">set</span> tcp0 [new Agent/TCP]
$ns attach-agent $n0 $tcp0

<span class="hljs-keyword">set</span> ftp0 [new Application/FTP]
$ftp0 attach-agent $tcp0
$ftp0 <span class="hljs-keyword">set</span> packetSize_ <span class="hljs-number">500</span>
$ftp0 <span class="hljs-keyword">set</span> interval_ <span class="hljs-number">0.0001</span>

<span class="hljs-keyword">set</span> sink5 [new Agent/TCPSink]
$ns attach-agent $n5 $sink5
$ns connect $tcp0 $sink5

<span class="hljs-keyword">set</span> tcp2 [new Agent/TCP]
$ns attach-agent $n1 $tcp2

<span class="hljs-keyword">set</span> ftp2 [new Application/FTP]
$ftp2 attach-agent $tcp2 
$ftp2 <span class="hljs-keyword">set</span> packetSize_ <span class="hljs-number">600</span>
$ftp2 <span class="hljs-keyword">set</span> interval_ <span class="hljs-number">0.000</span>

<span class="hljs-keyword">set</span> sink3 [new Agent/TCPSink]
$ns attach-agent $n3 $sink3 
$ns connect $tcp2 $sink3

<span class="hljs-keyword">set</span> file1 [<span class="hljs-keyword">open</span> file1.tr w]
$tcp0 attach $file1
$tcp0 <span class="hljs-keyword">trace</span> cwnd_

<span class="hljs-keyword">set</span> file2 [<span class="hljs-keyword">open</span> file2.tr w]
$tcp2 attach $file2
$tcp2 <span class="hljs-keyword">trace</span> cwnd_

<span class="hljs-keyword">proc</span><span class="hljs-title"> finish</span> { } {
<span class="hljs-keyword">global</span> ns nf tf
$ns <span class="hljs-keyword">flush</span>-<span class="hljs-keyword">trace</span> 
<span class="hljs-keyword">close</span> $tf
<span class="hljs-keyword">exec</span> nam lab3.nam &amp;
<span class="hljs-keyword">exit</span> <span class="hljs-number">0</span>
}

$ns at <span class="hljs-number">0.1</span> <span class="hljs-string">"$ftp0 start"</span>
$ns at <span class="hljs-number">14</span> <span class="hljs-string">"$ftp0 stop"</span>
$ns at <span class="hljs-number">0.2</span> <span class="hljs-string">"$ftp2 start"</span>
$ns at <span class="hljs-number">15</span> <span class="hljs-string">"$ftp2 stop"</span>
$ns at <span class="hljs-number">16</span> <span class="hljs-string">"finish"</span>
$ns run
</div></code></pre>
<h1 id="part-c1awk">part c1.awk</h1>
<pre class="hljs"><code><div><span class="hljs-keyword">BEGIN</span> {
}{
<span class="hljs-keyword">if</span>(<span class="hljs-variable">$6</span>==<span class="hljs-string">"cwnd_"</span>)
printf(<span class="hljs-string">"%f\t%f\t\n"</span>,<span class="hljs-variable">$1</span>,<span class="hljs-variable">$7</span>);
}
<span class="hljs-keyword">END</span> {
}
</div></code></pre>
<h1 id="part-c2py">part c2.py</h1>
<h2 id="implement-ipv4-address-classifier-a-b-c-d-and-e-using-any-programming-language">Implement IPv4 address classifier (A, B, C, D, and E) using any programming language.</h2>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">classify_and_identify_ipv4</span><span class="hljs-params">(ip_address : str)</span>:</span>
    octets = ip_address.split(<span class="hljs-string">'.'</span>)
    
    <span class="hljs-keyword">if</span> len(octets) != <span class="hljs-number">4</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-string">"Invalid Ipv4 address"</span>
    
    first_octet = int(octets[<span class="hljs-number">0</span>])
    
    <span class="hljs-keyword">if</span> <span class="hljs-number">1</span> &lt;= first_octet &lt;= <span class="hljs-number">127</span>:
        classification = <span class="hljs-string">"Class A"</span>
        network_id = octets[<span class="hljs-number">0</span>]
        host_id = <span class="hljs-string">'.'</span>.join(octets[<span class="hljs-number">1</span>:])
    <span class="hljs-keyword">elif</span> <span class="hljs-number">128</span> &lt;= first_octet &lt;= <span class="hljs-number">191</span>:
        classification = <span class="hljs-string">"Class B"</span>
        network_id = <span class="hljs-string">'.'</span>.join(octets[:<span class="hljs-number">2</span>])
        host_id = <span class="hljs-string">'.'</span>.join(octets[<span class="hljs-number">2</span>:])
    <span class="hljs-keyword">elif</span> <span class="hljs-number">192</span> &lt;= first_octet &lt;= <span class="hljs-number">223</span>:
        classification = <span class="hljs-string">"Class C"</span>
        network_id = <span class="hljs-string">'.'</span>.join(octets[:<span class="hljs-number">3</span>])
        host_id = <span class="hljs-string">'.'</span>.join(octets[<span class="hljs-number">3</span>:])
    <span class="hljs-keyword">elif</span> <span class="hljs-number">224</span> &lt;= first_octet &lt;= <span class="hljs-number">239</span>:
        classification = <span class="hljs-string">"Class D"</span>
        network_id = <span class="hljs-string">"N/A"</span>
        host_id = <span class="hljs-string">"N/A"</span>        
    <span class="hljs-keyword">elif</span> <span class="hljs-number">240</span> &lt;= first_octet &lt;= <span class="hljs-number">255</span>:
        classification = <span class="hljs-string">"Class E"</span>
        network_id = <span class="hljs-string">"N/A"</span>
        host_id = <span class="hljs-string">"N/A"</span>
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-string">"Invalid IPv4 address"</span>
    
    <span class="hljs-keyword">return</span> <span class="hljs-string">f"Classification: <span class="hljs-subst">{classification}</span> \n Network ID: <span class="hljs-subst">{network_id}</span>\n Host ID: <span class="hljs-subst">{host_id}</span>"</span>


user_input = input(<span class="hljs-string">"Enter an IPv4 address: "</span>)
results = classify_and_identify_ipv4(user_input)
print(results)
</div></code></pre>
<h1 id="open-ended">Open Ended</h1>
<h2 id="create-ipv4-or-ipv6-packets-using-any-programming-language">Create IPv4 or IPv6 packets using any programming language.</h2>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> socket

<span class="hljs-comment"># Take input for IPv4 header fields</span>
ttl = int(input(<span class="hljs-string">"Enter TTL (Time To Live): "</span>))
source_ip = input(<span class="hljs-string">"Enter Source IP address: "</span>)
destination_ip = input(<span class="hljs-string">"Enter Destination IP address: "</span>)

<span class="hljs-comment"># TCP header fields</span>
source_port = int(input(<span class="hljs-string">"Enter Source Port: "</span>))
destination_port = int(input(<span class="hljs-string">"Enter Destination Port: "</span>))

<span class="hljs-comment"># IPv4 header fields</span>
version = <span class="hljs-number">4</span>
header_length = <span class="hljs-number">5</span>
protocol = <span class="hljs-number">6</span>  <span class="hljs-comment"># TCP protocol</span>

<span class="hljs-comment"># Constructing the IPv4 packet</span>
ipv4_header = bytearray()
ipv4_header += ((version &lt;&lt; <span class="hljs-number">4</span>) + header_length).to_bytes(<span class="hljs-number">1</span>, <span class="hljs-string">'big'</span>)
ipv4_header += ttl.to_bytes(<span class="hljs-number">1</span>, <span class="hljs-string">'big'</span>)
ipv4_header += protocol.to_bytes(<span class="hljs-number">1</span>, <span class="hljs-string">'big'</span>)
ipv4_header += socket.inet_aton(source_ip)
ipv4_header += socket.inet_aton(destination_ip)

<span class="hljs-comment"># TCP header</span>
tcp_header = bytearray()
tcp_header += source_port.to_bytes(<span class="hljs-number">2</span>, <span class="hljs-string">'big'</span>)
tcp_header += destination_port.to_bytes(<span class="hljs-number">2</span>, <span class="hljs-string">'big'</span>)
tcp_header += <span class="hljs-string">b'\x00\x00\x00\x00'</span>  <span class="hljs-comment"># Sequence number (4 bytes)</span>
tcp_header += <span class="hljs-string">b'\x00\x00\x00\x00'</span>  <span class="hljs-comment"># Acknowledgment number (4 bytes)</span>
tcp_header += <span class="hljs-string">b'\x50\x02'</span>  <span class="hljs-comment"># Data offset, Reserved, and Flags (2 bytes)</span>
tcp_header += <span class="hljs-string">b'\xff\xff'</span>  <span class="hljs-comment"># Window size (2 bytes)</span>
tcp_header += <span class="hljs-string">b'\x00\x00'</span>  <span class="hljs-comment"># Checksum (2 bytes)</span>
tcp_header += <span class="hljs-string">b'\x00\x00'</span>  <span class="hljs-comment"># Urgent pointer (2 bytes)</span>

<span class="hljs-comment"># Displaying the constructed IPv4 packet</span>
print(<span class="hljs-string">"IPv4 Packet:"</span>)
print(<span class="hljs-string">"Version:"</span>, version)
print(<span class="hljs-string">"Header Length:"</span>, header_length)
print(<span class="hljs-string">"TTL:"</span>, ttl)
print(<span class="hljs-string">"Protocol:"</span>, protocol)
print(<span class="hljs-string">"Source IP:"</span>, source_ip)
print(<span class="hljs-string">"Destination IP:"</span>, destination_ip)
print(<span class="hljs-string">"Raw Bytes (IPv4 header):"</span>, ipv4_header.hex())
print(<span class="hljs-string">"Raw Bytes (TCP header):"</span>, tcp_header.hex())
</div></code></pre>

</body>

</html>